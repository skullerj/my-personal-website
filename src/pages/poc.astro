---
import "../styles/global.css";
import mountains from "../assets/mountains.png";
import { Image } from "astro:assets";
// Barebones POC page for GSAP scroll animations
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GSAP Scroll Animation POC</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        line-height: 1.6;
        color: #333;
        background: #f5f5f5;
      }

      header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 20px 40px;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
      }

      .name {
        font-size: 1.2rem;
        font-weight: 600;
        color: #2c3e50;
      }
    </style>
  </head>
  <body>
    <span class="keyhole bg-[#fdf0d5]"></span>
    <header>
      <h1 class="name">Juan Rosero</h1>
    </header>

    <section class="hero">
      <figure class="hero-image-container">
        <Image src={mountains} alt="Hero background" class="hero-image" />
      </figure>
    </section>

    <section class="content-section">
      <div class="container">
        <h2>Hello from the Mountains!</h2>
        <p>And welcome to my personal website :)</p>
        <p>Grab your oxygen mask and keep scrolling!</p>
      </div>
    </section>

    <style>
      .hero {
        position: relative;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .hero-image-container {
        position: relative;
        left: 50%;
        width: 100vw;
        transform: translate(-50%);
      }

      .keyhole {
        position: fixed;
        inset: 0;
        height: 100%;
        width: 100%;
        pointer-events: none;
        clip-path: polygon(
          0% 0%,
          0% 100%,
          0 100%,
          0 0,
          100% 0,
          100% 100%,
          0 100%,
          0 100%,
          100% 100%,
          100% 0%
        );
        z-index: 1;
      }

      .hero-image {
        width: 100%;
        min-height: 100vh;
        object-fit: cover;
      }

      .content-section {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 100px 20px;
        background: white;
      }

      .content-section h2 {
        font-size: 3rem;
        margin-bottom: 2rem;
        color: #2c3e50;
        text-align: center;
      }

      .content-section p {
        font-size: 1.2rem;
        line-height: 1.8;
        color: #555;
        max-width: 800px;
        text-align: center;
      }
    </style>

    <script>
      import { gsap } from "gsap";
      import { ScrollTrigger } from "gsap/ScrollTrigger";

      gsap.registerPlugin(ScrollTrigger);

      // Hero animation timeline

      // Image expansion animation - starts immediately on page load
      gsap.from(".keyhole", {
        "clip-path":
          "polygon(0% 0%, 0% 100%, 25% 100%, 25% 25%, 75% 25%, 75% 75%, 25% 75%, 25% 100%, 100% 100%, 100% 0%)",
        scrollTrigger: {
          trigger: "body",
          start: "top top", // when the top of the trigger hits the top of the viewport
          end: "bottom bottom", // bottom of the trigger hits the bottom of the vp
          scrub: true,
          markers: false,
        },
      });
    </script>
  </body>
</html>
